Find and Replace Pattern

You have a list of words and a pattern, and you want to know which words in words matches the pattern.
A word matches the pattern if there exists a permutation of letters p so that after replacing every letter x in the pattern with p(x), we get the desired word.
(Recall that a permutation of letters is a bijection from letters to letters: every letter maps to another letter, and no two letters map to the same letter.)
Return a list of the words in words that match the given pattern. 


class Solution {
public:
        
     bool match(string word, string pattern)
     {
             map<char,char> m1;
             map<char,char> m2;
             
             for(int i=0; i < word.length() ; i++)
             {
                     char w = word[i];
                     char p = pattern[i];
                     
                     if(m1.find(w) == m1.end())
                             m1.insert(pair<char,char>(w,p));
                     if(m2.find(p) == m2.end())
                             m2.insert(pair<char,char>(p,w));
                     
                     if(m1[w] != p || m2[p] != w)
                             return false;                     
             }
             
             return true;
     }
        
    vector<string> findAndReplacePattern(vector<string>& words, string pattern) {
            
            vector<string> results;
            
            for(auto word : words)
                    if(match(word,pattern))
                            results.push_back(word);
            
            return results;                      
    }
};
